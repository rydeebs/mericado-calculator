"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[178],{5178:function(e,a,r){r.d(a,{Z:function(){return z}});var t=r(7437),s=r(2265),n=r(7042),i=r(4769);function o(){for(var e=arguments.length,a=Array(e),r=0;r<e;r++)a[r]=arguments[r];return(0,i.m6)((0,n.W)(a))}let l=s.forwardRef((e,a)=>{let{className:r,...s}=e;return(0,t.jsx)("div",{ref:a,className:o("rounded-lg border bg-card text-card-foreground shadow-sm",r),...s})});l.displayName="Card";let d=s.forwardRef((e,a)=>{let{className:r,...s}=e;return(0,t.jsx)("div",{ref:a,className:o("flex flex-col space-y-1.5 p-6",r),...s})});d.displayName="CardHeader";let c=s.forwardRef((e,a)=>{let{className:r,...s}=e;return(0,t.jsx)("h3",{ref:a,className:o("text-2xl font-semibold leading-none tracking-tight",r),...s})});c.displayName="CardTitle";let u=s.forwardRef((e,a)=>{let{className:r,...s}=e;return(0,t.jsx)("div",{ref:a,className:o("p-6 pt-0",r),...s})});u.displayName="CardContent";let m=s.forwardRef((e,a)=>{let{className:r,type:s,...n}=e;return(0,t.jsx)("input",{type:s,className:o("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),ref:a,...n})});m.displayName="Input";var f=r(6072);let g=s.forwardRef((e,a)=>{let{className:r,...s}=e;return(0,t.jsxs)(f.fC,{ref:a,className:o("relative flex w-full touch-none select-none items-center",r),...s,children:[(0,t.jsx)(f.fQ,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:(0,t.jsx)(f.e6,{className:"absolute h-full bg-primary"})}),(0,t.jsx)(f.bU,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]})});g.displayName=f.fC.displayName;var p=r(2719);let h=p.fC,b=s.forwardRef((e,a)=>{let{className:r,children:s,...n}=e;return(0,t.jsx)(p.xz,{ref:a,className:o("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),...n,children:s})});b.displayName=p.xz.displayName;let x=s.forwardRef((e,a)=>{let{className:r,children:s,position:n="popper",...i}=e;return(0,t.jsx)(p.h_,{children:(0,t.jsx)(p.VY,{ref:a,className:o("relative z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===n&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",r),position:n,...i,children:(0,t.jsx)(p.l_,{className:o("p-1","popper"===n&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s})})})});x.displayName=p.VY.displayName;let y=s.forwardRef((e,a)=>{let{className:r,children:s,...n}=e;return(0,t.jsxs)(p.ck,{ref:a,className:o("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r),...n,children:[(0,t.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,t.jsx)(p.wU,{children:(0,t.jsx)("span",{className:"h-2 w-2 rounded-full bg-primary"})})}),(0,t.jsx)(p.eT,{children:s})]})});y.displayName=p.ck.displayName;let v=p.B4;var N=r(6743),j=r(6061);let w=(0,j.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),C=s.forwardRef((e,a)=>{let{className:r,...s}=e;return(0,t.jsx)(N.f,{ref:a,className:o(w(),r),...s})});C.displayName=N.f.displayName;let S=(0,j.j)("inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none ring-offset-background",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"underline-offset-4 hover:underline text-primary"},size:{default:"h-10 py-2 px-4",sm:"h-9 px-3 rounded-md",lg:"h-11 px-8 rounded-md"}},defaultVariants:{variant:"default",size:"default"}}),k=s.forwardRef((e,a)=>{let{className:r,variant:s,size:n,...i}=e;return(0,t.jsx)("button",{className:o(S({variant:s,size:n,className:r})),ref:a,...i})});k.displayName="Button";let A=(0,j.j)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),P=s.forwardRef((e,a)=>{let{className:r,variant:s,...n}=e;return(0,t.jsx)("div",{ref:a,role:"alert",className:o(A({variant:s}),r),...n})});P.displayName="Alert";let E=s.forwardRef((e,a)=>{let{className:r,...s}=e;return(0,t.jsx)("div",{ref:a,className:o("text-sm [&_p]:leading-relaxed",r),...s})});E.displayName="AlertDescription";let I=s.forwardRef((e,a)=>{let{className:r,...s}=e;return(0,t.jsx)("textarea",{className:o("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),ref:a,...s})});I.displayName="Textarea",r(5231),r(470);var R=r(1162),O=(0,R.$)("417dd4a03212528dbc94bb9c4eeee051d670016b"),T=(0,R.$)("e29a9ecac9d0ac88c83b78c2e7320b43ddf3febe"),B=(0,R.$)("602bbb75039e459a8e95f843ee0f2ecd066b2eaa");let M=["Afghanistan","Albania","Algeria","Andorra","Angola","Antigua and Barbuda","Argentina","Armenia","Australia","Austria","Azerbaijan","Bahamas","Bahrain","Bangladesh","Barbados","Belarus","Belgium","Belize","Benin","Bhutan","Bolivia","Bosnia and Herzegovina","Botswana","Brazil","Brunei","Bulgaria","Burkina Faso","Burundi","Cambodia","Cameroon","Canada","Cape Verde","Central African Republic","Chad","Chile","China","Colombia","Comoros","Congo","Costa Rica","Croatia","Cuba","Cyprus","Czech Republic","Democratic Republic of the Congo","Denmark","Djibouti","Dominica","Dominican Republic","Ecuador","Egypt","El Salvador","Equatorial Guinea","Eritrea","Estonia","Eswatini","Ethiopia","Fiji","Finland","France","Gabon","Gambia","Georgia","Germany","Ghana","Greece","Grenada","Guatemala","Guinea","Guinea-Bissau","Guyana","Haiti","Honduras","Hungary","Iceland","India","Indonesia","Iran","Iraq","Ireland","Israel","Italy","Ivory Coast","Jamaica","Japan","Jordan","Kazakhstan","Kenya","Kiribati","Kuwait","Kyrgyzstan","Laos","Latvia","Lebanon","Lesotho","Liberia","Libya","Liechtenstein","Lithuania","Luxembourg","Madagascar","Malawi","Malaysia","Maldives","Mali","Malta","Marshall Islands","Mauritania","Mauritius","Mexico","Micronesia","Moldova","Monaco","Mongolia","Montenegro","Morocco","Mozambique","Myanmar","Namibia","Nauru","Nepal","Netherlands","New Zealand","Nicaragua","Niger","Nigeria","North Korea","North Macedonia","Norway","Oman","Pakistan","Palau","Palestine","Panama","Papua New Guinea","Paraguay","Peru","Philippines","Poland","Portugal","Qatar","Romania","Russia","Rwanda","Saint Kitts and Nevis","Saint Lucia","Saint Vincent and the Grenadines","Samoa","San Marino","Sao Tome and Principe","Saudi Arabia","Senegal","Serbia","Seychelles","Sierra Leone","Singapore","Slovakia","Slovenia","Solomon Islands","Somalia","South Africa","South Korea","South Sudan","Spain","Sri Lanka","Sudan","Suriname","Sweden","Switzerland","Syria","Taiwan","Tajikistan","Tanzania","Thailand","Timor-Leste","Togo","Tonga","Trinidad and Tobago","Tunisia","Turkey","Turkmenistan","Tuvalu","Uganda","Ukraine","United Arab Emirates","United Kingdom","United States","Uruguay","Uzbekistan","Vanuatu","Vatican City","Venezuela","Vietnam","Yemen","Zambia","Zimbabwe"];var z=()=>{let[e,a]=(0,s.useState)({htsCode:"",country:"",dutyRate:"",numPOs:"",numUnits:"",unitCost:"",freightCost:0}),[r,n]=(0,s.useState)(!1),[i,o]=(0,s.useState)(!1),[d,c]=(0,s.useState)(""),[u,f]=(0,s.useState)(!1),[p,N]=(0,s.useState)(""),[j,w]=(0,s.useState)(""),[S,A]=(0,s.useState)(!0),[R,z]=(0,s.useState)("");(0,s.useEffect)(()=>{let e=async()=>{try{console.log("Checking OpenAI API key...");let e=await O();if(A(e),e)console.log("OpenAI API key is valid and working"),c("");else throw Error("OpenAI connection test failed")}catch(e){console.error("Error checking OpenAI API key:",e),A(!1),e instanceof Error?(c("OpenAI API key error: ".concat(e.message)),console.error("Error stack:",e.stack)):c("An unexpected error occurred while checking the OpenAI API key: ".concat(String(e)))}};e()},[]);let D=(e,r)=>{a(a=>({...a,[e]:r})),c("")},L=async()=>{if(!p.trim()){c("Please provide a product description.");return}n(!0),c("");try{let r=await T(p,e.country);if(!r||!/^\d{10}$/.test(r))throw Error("Invalid HTS code received");a(e=>({...e,htsCode:r})),w("HTS Code: ".concat(r)),f(!1),N("")}catch(e){console.error("Error in handleSubmitClassification:",e),c(e instanceof Error?e.message:"An unexpected error occurred during classification.")}finally{n(!1)}},U=async()=>{if(!e.htsCode||!e.country){c("Please provide both HTS Code and Country of Origin before calculating duty rate.");return}o(!0),c("");try{let r=await B(e.htsCode,e.country);if("string"==typeof r&&r.includes("%")){let e=r.replace("%","");a(a=>({...a,dutyRate:e})),z("Duty Rate: ".concat(r))}else throw Error("Invalid duty rate response")}catch(e){console.error("Error in handleCalculateDutyRate:",e),c(e instanceof Error?e.message:"An unexpected error occurred while calculating the duty rate.")}finally{o(!1)}};return(0,t.jsx)("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 to-gray-100 py-6 px-6",children:(0,t.jsx)("div",{className:"max-w-4xl mx-auto",children:(0,t.jsxs)(l,{className:"p-6 bg-white/50 backdrop-blur-sm animate-fade-up shadow-xl rounded-xl border-gray-200/50",children:[!S&&(0,t.jsx)(P,{variant:"default",className:"mb-4",children:(0,t.jsx)(E,{children:d||"OpenAI API key is not set or invalid. Some features are unavailable. Please check your .env.local file and ensure the OPENAI_API_KEY is set correctly."})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 relative",children:[(0,t.jsxs)("div",{className:"space-y-4 p-4 bg-white/80 rounded-lg",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold text-primary mb-6 font-mono",children:"Product Information"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(C,{htmlFor:"country",className:"font-mono",children:"Country of Origin (COO)"}),(0,t.jsxs)(h,{value:e.country,onValueChange:e=>D("country",e),children:[(0,t.jsx)(b,{id:"country",className:"w-full font-mono",children:(0,t.jsx)(v,{placeholder:"Select country"})}),(0,t.jsx)(x,{className:"font-mono max-h-[200px] overflow-y-auto",children:M.map(e=>(0,t.jsx)(y,{value:e.toLowerCase(),children:e},e))})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)(C,{htmlFor:"hts-code",className:"font-mono",children:["HTS Code ",(0,t.jsx)("span",{className:"text-xs text-gray-500",children:"(10 digit code)"})]}),(0,t.jsxs)("div",{className:"flex space-x-2",children:[(0,t.jsx)(m,{id:"hts-code",placeholder:"Enter HTS Code",value:e.htsCode,onChange:e=>D("htsCode",e.target.value),className:"transition-all duration-200 focus:ring-2 focus:ring-primary/20 font-mono"}),(0,t.jsx)(k,{onClick:()=>{if(!e.country){c("Please select a Country of Origin before classifying the product.");return}f(!0)},disabled:!e.country,className:"bg-primary hover:bg-primary/90",children:"Help Classify"})]}),u&&(0,t.jsxs)("div",{className:"mt-2 space-y-2",children:[(0,t.jsx)(I,{placeholder:"Describe your product here...",value:p,onChange:e=>N(e.target.value),className:"w-full h-24 font-mono"}),(0,t.jsx)(k,{onClick:L,disabled:r||!p.trim(),className:"bg-primary hover:bg-primary/90",children:r?"Classifying...":"Submit"})]}),j&&(0,t.jsx)("div",{className:"mt-2 p-2 bg-gray-100 rounded-md",children:(0,t.jsx)("p",{className:"text-sm font-mono",children:j})})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(C,{htmlFor:"duty-rate",className:"font-mono",children:"Duty Rate (%)"}),(0,t.jsxs)("div",{className:"flex space-x-2",children:[(0,t.jsxs)("div",{className:"relative flex-grow",children:[(0,t.jsx)(m,{id:"duty-rate",placeholder:"Enter Duty Rate",value:e.dutyRate,onChange:e=>D("dutyRate",e.target.value),className:"pr-8 font-mono w-full",type:"number",step:"0.1"}),(0,t.jsx)("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 font-mono",children:"%"})]}),(0,t.jsx)(k,{onClick:U,disabled:i||!e.htsCode||!e.country,className:"bg-primary hover:bg-primary/90",children:i?"Calculating...":"Calculate Duty Rate"})]}),(0,t.jsx)("p",{className:"mt-4 text-xs italic text-gray-500",children:"Disclaimer: MERiCADO is not a certified customs agent. Please consult a licensed customs broker for official HTS codes and duty rates."})]})]}),(0,t.jsx)("div",{className:"hidden md:block absolute left-1/2 top-4 bottom-4 w-px bg-gray-200 -mx-3"}),(0,t.jsxs)("div",{className:"space-y-4 p-4 bg-white/80 rounded-lg",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold text-primary mb-6 font-mono",children:"Order Information"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(C,{htmlFor:"num-pos",className:"font-mono",children:"Number of PO's (per Year)"}),(0,t.jsx)(m,{id:"num-pos",placeholder:"Enter number of PO's",value:e.numPOs,onChange:e=>D("numPOs",e.target.value),type:"number",className:"font-mono"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(C,{htmlFor:"num-units",className:"font-mono",children:"Number of Units (per PO)"}),(0,t.jsx)(m,{id:"num-units",placeholder:"Enter number of units",value:e.numUnits,onChange:e=>D("numUnits",e.target.value),type:"number",className:"font-mono"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(C,{htmlFor:"unit-cost",className:"font-mono",children:"Unit Cost (per PO) (USD)"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500 font-mono",children:"$"}),(0,t.jsx)(m,{id:"unit-cost",placeholder:"Enter unit cost",value:e.unitCost,onChange:e=>D("unitCost",e.target.value),className:"pl-7 font-mono",type:"number",step:"0.01"})]})]})]})]}),(0,t.jsx)("div",{className:"p-4 bg-primary/5 rounded-lg border border-primary/10",children:(0,t.jsxs)("div",{className:"flex flex-col space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-sm font-medium text-gray-500 font-mono",children:"Estimated Freight Cost (per PO)"}),(0,t.jsxs)("p",{className:"text-2xl font-bold text-primary mt-1 font-mono",children:["$",Number(e.freightCost).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),(0,t.jsx)("div",{className:"space-y-4",children:(0,t.jsx)(g,{defaultValue:[0],max:12e3,step:100,value:[e.freightCost],onValueChange:e=>{a(a=>({...a,freightCost:e[0]}))},className:"w-full"})})]})}),d&&(0,t.jsx)(P,{variant:"destructive",className:"mt-4",children:(0,t.jsx)(E,{children:d})})]})})})}}}]);